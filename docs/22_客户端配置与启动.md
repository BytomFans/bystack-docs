---
id: docs_22
title: 客户端配置与启动
sidebar_label: 客户端配置与启动
---

**基础命令**

在启动 bytomd 前需要用户进行基本的配置，指定数据存储目录，网络类型以及其它启动选项等。

```shell
$ bytomd -h
Multiple asset management.

Usage:
  bytomd [command]

Available Commands:
  help        Help about any command
  init        Initialize blockchain
  node        Run the bytomd
  version     Show version info

Flags:
  -h, --help          help for bytomd
      --home string   root directory for config and data
  -r, --root string   DEPRECATED. Use --home (default "/Users/zcc/Library/Application Support/Bytom")
      --trace         print out full stack trace on errors

Use "bytomd [command] --help" for more information about a command.
```

bytomd 有四个子命令：

- help：显示 bytomd 的帮助信息。
- init：对 bytomd 进行初始化操作。
- node：启动网络。
- version：显示网络信息。

bytomd 有几个选项：

- -h ：显示 bytomd 的帮助信息。
- --home：指定数据和配置文件的存储目录。
- -r：同 --home，不建议使用。
- --trace：输出所有的跟踪错误信息。

**配置网络和数据目录**

比原链网络主要有以下几种网络类型，分别有不同的用途：

- mainnet主网：流通的币种是具有真实价值的btm。
- testnet测试网：开发者进行交易或者智能合约的测试网络。
- solonet测试网：单节点网络，不与其它节点相连，相当于私链。

对 bytomd 进行初始化：

```shell
$ cd cmd/bytomd
$ ./bytomd init --chain_id <net-type> --home <config_and_data_path>
```

`--chain_id`指定的是启动的网络类型，有三种网络类型可选：

- mainnet：主网
- testnet：wisdom测试网
- solonet：单节点测试网

如果不指定网络类型，则默认启动solonet。

`--home`指定的是配置和数据文件存储的路径，如果不指定存储路径，则不同平台的默认路径为：

- MacOS(darwin): ~/Library/Application Support/Bytom
- Windows(windows): ~/AppData/Roaming/Bytom
- Others(eg.Linux): ~/.bytom

以启动solonet为例，将配置和数据文件存储目录指定为`$HOME/bytom/solonet`：

```
$ ./bytomd init --chain_id solonet --home $HOME/bytom/solonet
```

则在`$HOME/bytom/solonet`文件夹下会出现相应的配置文件`config.toml`：

```bash
$ cat $HOME/bytom/solonet/config.toml
# This is a TOML config file.
# For more information, see https://github.com/toml-lang/toml
fast_sync = true
db_backend = "leveldb"
api_addr = "0.0.0.0:9888"
chain_id = "solonet"
[p2p]
laddr = "tcp://0.0.0.0:46658"
seeds = ""
```

配置文件中各项说明：

- fast_sync：是否开启快速同步，默认开启快速同步，值为 true。
- db_backend：使用的后台数据库名称，默认使用 leveldb 数据库。
- api_addr：api 服务器地址和端口号。
- chain_id：启动的节点网络，默认启动 solonet 网络。
- laddr：为其它节点提供的 p2p 地址和端口号。
- seeds：种子节点地址和端口号，对于 solonet 来说，此项为空。

**启动节点**

启动节点：

```shell
$ bytomd node -h
Run the bytomd

Usage:
  bytomd node [flags]

Flags:
      --auth.disable                     Disable rpc access authenticate
      --chain_id string                  Select network type
      -h, --help                             help for node
      --log_file string                  Log output file (default "log")
      --log_level string                 Select log level(debug, info, warn, error or fatal)
      --mining                           Enable mining
      --p2p.dial_timeout int             Set dial timeout (default 3)
      --p2p.handshake_timeout int        Set handshake timeout (default 30)
      --p2p.keep_dial string             Peers addresses try keeping connecting to, separated by ',' (for example "1.1.1.1:46657;2.2.2.2:46658")
      --p2p.laddr string                 Node listen address. (0.0.0.0:0 means any interface, any port) (default "tcp://0.0.0.0:46656")
      --p2p.lan_discoverable             Whether the node can be discovered by nodes in the LAN (default true)
      --p2p.max_num_peers int            Set max num peers (default 50)
      --p2p.node_key string              Node key for p2p communication
      --p2p.proxy_address string         Connect via SOCKS5 proxy (eg. 127.0.0.1:1086)
      --p2p.proxy_password string        Password for proxy server
      --p2p.proxy_username string        Username for proxy server
      --p2p.seeds string                 Comma delimited host:port seed nodes
      --p2p.skip_upnp                    Skip UPNP configuration
      --prof_laddr string                Use http to profile bytomd programs
      --simd.enable                      Enable SIMD mechan for tensority
      --vault_mode                       Run in the offline enviroment
      --wallet.disable                   Disable wallet
      --wallet.rescan                    Rescan wallet
      --wallet.txindex                   Save global tx index
      --web.closed                       Lanch web browser or not
      --ws.max_num_concurrent_reqs int   Max number of concurrent websocket requests that may be processed concurrently (default 20)
      --ws.max_num_websockets int        Max number of websocket connections (default 25)

Global Flags:
      --home string   root directory for config and data
      -r, --root string   DEPRECATED. Use --home (default "/Users/zcc/Library/Application Support/Bytom")
      --trace         print out full stack trace on errors
```

初始化网络之后，启动网络，打开挖矿：

```bash
$ ./bytomd node --mining.enable --home <config_and_data_path>
```

`--mining.enable`选项指定启动节点时开启挖矿。如果前期初始化的过程中指定的网络类型是mainnet或者testnet，则无需开启挖矿。如果指定的是solonet，则强烈建议开启挖矿，否则后面进行交易测试的时候将无法打包入块。

以启动solonet节点为例：

```bash
$ ./bytomd node --mining.enable --home $HOME/bytom/solonet
```





